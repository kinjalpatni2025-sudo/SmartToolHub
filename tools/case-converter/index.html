<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Case Converter - Smarttool Hub</title>
  <meta name="description" content="Convert text between UPPERCASE, lowercase, Title Case, Sentence case and more — 100% browser-based and private."/>
  <link rel="icon" href="https://img.icons8.com/fluency/48/toolbox.png"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <style>
    :root{
      --bg:#0b1220;--text:#eaf2ff;--card:#182335;--border:#2a3b55;
      --primary:#22d3ee;--muted:#9fb3c8;--radius:12px;
    }
    body.light{
      --bg:#f6f8fb;--text:#0b1220;--card:#ffffff;--border:#e6eefc;
      --primary:#0b74ff;--muted:#556677;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);color:var(--text);transition:background .25s,color .25s;
      min-height:100vh;display:flex;flex-direction:column;
    }
    .container{max-width:1200px;margin:0 auto;padding:20px;width:100%}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      background:var(--card);border-bottom:1px solid var(--border);padding:14px 20px;
    }
    .brand{display:flex;gap:12px;align-items:center}
    .brand img{width:46px;height:46px;border-radius:10px}
    .brand .title{font-size:1.25rem;font-weight:700;color:var(--primary);margin:0}
    .brand .tag{font-size:.9rem;color:var(--muted)}
    .header-actions{display:flex;gap:10px;align-items:center}
    .btn-header{
      border:1px solid var(--border);background:transparent;padding:8px 12px;border-radius:8px;
      color:var(--text);cursor:pointer;display:flex;align-items:center;gap:6px;text-decoration:none;font-weight:600
    }
    .btn-header:hover{border-color:var(--primary);color:var(--primary)}
    .tool-content {
      background:var(--card);border-radius:var(--radius);border:1px solid var(--border);
      padding:25px;margin-top:20px;
    }
    .tool-title { font-size:1.8rem;margin-bottom:5px;color:var(--primary); }
    .tool-description { color:var(--muted);margin-bottom:25px; }

    .editor-wrap{display:grid;grid-template-columns:1fr 380px;gap:18px}
    @media (max-width:1040px){ .editor-wrap{grid-template-columns:1fr} }

    .input-area {
      border:1px solid var(--border);border-radius:var(--radius);padding:12px;
      background:var(--bg);min-height:360px;display:flex;flex-direction:column;
    }
    .toolbar{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px;}
    .action {
      background:var(--card);border:1px solid var(--border);border-radius:10px;padding:8px 10px;
      cursor:pointer;font-weight:600;color:var(--text);display:flex;gap:8px;align-items:center;
    }
    .action:hover{border-color:var(--primary);color:var(--primary)}
    .textarea{
      width:100%;flex:1;border-radius:8px;padding:12px;font-size:1rem;background:transparent;color:var(--text);
      border:1px dashed var(--border);outline:none;resize:vertical;min-height:200px;
    }
    .controls-bottom{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:12px;flex-wrap:wrap}
    .small { color:var(--muted);font-size:0.9rem; }

    .panel { background:var(--bg);border:1px solid var(--border);padding:18px;border-radius:var(--radius); }
    .panel h3{margin:0 0 12px 0;color:var(--primary);font-size:1.05rem}
    .stats-list{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .stat{background:var(--card);padding:10px;border-radius:10px;border:1px solid var(--border)}
    .stat h4{margin:0;font-size:0.95rem;color:var(--text)}
    .stat p{margin:6px 0 0 0;color:var(--muted);font-size:0.9rem}

    .file-controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
    .file-input{display:none}
    .upload-area {
      border:2px dashed var(--border);border-radius:var(--radius);padding:18px;text-align:center;cursor:pointer;
      transition:all .2s;background:transparent;color:var(--muted)
    }
    .upload-area:hover{border-color:var(--primary);color:var(--primary);background:rgba(34,211,238,0.03)}
    .status-message {margin-top:12px;padding:10px;border-radius:var(--radius);background:var(--bg);border:1px solid var(--border);color:var(--muted);font-size:0.9rem;display:none}
    .status-success{border-color:#10b981;color:#10b981}
    .status-error{border-color:#ef4444;color:#ef4444}

    .btn{padding:10px 14px;border-radius:10px;border:none;font-weight:600;cursor:pointer;display:inline-flex;gap:8px;align-items:center}
    .btn-primary{background:var(--primary);color:#00131f}
    .btn-secondary{background:var(--card);border:1px solid var(--border);color:var(--text)}
    footer{margin-top:auto;padding:18px 0;background:var(--card);border-top:1px solid var(--border)}
    .footer-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .footer-links{display:flex;gap:14px;flex-wrap:wrap}
    .footer-links a{color:var(--primary);text-decoration:none;font-weight:600}
    @media (max-width:720px){
      header{flex-direction:column;align-items:flex-start;gap:10px}
      .header-actions{align-self:flex-end}
      .action{width:100%}
    }
  </style>
</head>
<body>
<header class="container">
  <div class="brand">
    <!-- Brand now links to root landing page using absolute path -->
    <a href="/index.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;">
      <img src="https://img.icons8.com/fluency/48/toolbox.png" alt="Smarttool Hub Logo">
      <div>
        <div class="title">Smarttool Hub</div>
        <div class="tag">Fast • Private • 100% Client-side</div>
      </div>
    </a>
  </div>
  <div class="header-actions">
    <!-- Home uses absolute root path so it always opens landing page -->
    <a href="/index.html" class="btn-header"><i class="fa-solid fa-house"></i> Home</a>
    <button class="btn-header" id="themeToggle" title="Toggle dark/light mode"><i class="fa-solid fa-moon"></i></button>
  </div>
</header>

<main class="container">
  <div class="tool-content">
    <h1 class="tool-title">Case Converter</h1>
    <p class="tool-description">Convert and clean text with multiple case options, copy, and download — all in your browser.</p>

    <div class="editor-wrap">
      <div class="input-area">
        <div class="toolbar" role="toolbar" aria-label="Text actions">
          <button class="action" id="upperBtn" title="Convert to UPPERCASE"><i class="fa-solid fa-arrow-up-wide-short"></i> UPPERCASE</button>
          <button class="action" id="lowerBtn" title="Convert to lowercase"><i class="fa-solid fa-arrow-down-wide-short"></i> lowercase</button>
          <button class="action" id="titleBtn" title="Convert to Title Case"><i class="fa-solid fa-heading"></i> Title Case</button>
          <button class="action" id="sentenceBtn" title="Convert to Sentence case"><i class="fa-solid fa-quote-left"></i> Sentence case</button>
          <button class="action" id="toggleBtn" title="Toggle Case"><i class="fa-solid fa-magic"></i> Toggle Case</button>
          <button class="action" id="altBtn" title="Alternating case (aLtErNaTe)"><i class="fa-solid fa-text-height"></i> Alternating</button>
          <button class="action" id="removeSpacesBtn" title="Remove extra spaces & trim"><i class="fa-solid fa-arrows-left-right-to-line"></i> Remove Extra Spaces</button>
          <button class="action" id="clearBtn" title="Clear text"><i class="fa-solid fa-trash"></i> Clear</button>
        </div>

        <div class="file-controls">
          <label class="upload-area" id="uploadDrop" title="Click to upload a .txt file">
            <i class="fa-solid fa-file-import"></i> Upload .txt
            <input type="file" id="textFileInput" class="file-input" accept=".txt,text/plain">
          </label>
          <button class="btn btn-secondary" id="copyBtn" title="Copy text to clipboard"><i class="fa-solid fa-copy"></i> Copy</button>
          <button class="btn btn-secondary" id="downloadBtn" title="Download .txt"><i class="fa-solid fa-download"></i> Download</button>
        </div>

        <textarea id="mainText" class="textarea" placeholder="Paste or type your text here..."></textarea>

        <div class="controls-bottom">
          <div class="small" id="liveStats">Words: 0 • Characters: 0 • Lines: 0</div>
          <div style="display:flex;gap:8px">
            <div class="small" id="readingTime">Estimated read: 0 min</div>
          </div>
        </div>

        <div id="statusMessage" class="status-message" role="status"></div>
      </div>

      <aside class="panel">
        <h3>Preview & Tools</h3>
        <div style="margin-bottom:12px;">
          <label style="display:block;font-weight:600;margin-bottom:6px;color:var(--muted)">Preview</label>
          <div id="previewBox" style="min-height:140px;border-radius:8px;padding:12px;background:var(--card);border:1px solid var(--border);color:var(--text);overflow:auto;white-space:pre-wrap;"></div>
        </div>

        <h3>Statistics</h3>
        <div class="stats-list" style="margin-bottom:12px">
          <div class="stat">
            <h4 id="statWords">Words</h4>
            <p id="statWordsVal">0</p>
          </div>
          <div class="stat">
            <h4 id="statChars">Characters</h4>
            <p id="statCharsVal">0</p>
          </div>
          <div class="stat">
            <h4 id="statLines">Lines</h4>
            <p id="statLinesVal">0</p>
          </div>
          <div class="stat">
            <h4 id="statReading">Estimated Read</h4>
            <p id="statReadVal">0 min</p>
          </div>
        </div>

        <h3>Quick Actions</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn btn-primary" id="removeBlankLinesBtn"><i class="fa-solid fa-rectangle-xmark"></i> Remove Blank Lines</button>
          <button class="btn btn-secondary" id="sortLinesBtn"><i class="fa-solid fa-sort-alpha-down"></i> Sort Lines</button>
          <button class="btn btn-secondary" id="uniqueLinesBtn"><i class="fa-solid fa-filter"></i> Unique Lines</button>
        </div>

      </aside>
    </div>

  </div>
</main>

<footer class="container">
  <div class="footer-inner">
    <div>© <span id="year"></span> Smarttool Hub</div>
    <div class="footer-links">
      <!-- Footer links use absolute paths so they open from anywhere -->
      <a href="/privacy.html">Privacy</a>
      <a href="/terms.html">Terms</a>
      <a href="/contact.html">Contact</a>
      <a href="/comments.html">Comments</a>
      <a href="/faq.html">FAQ</a>
    </div>
  </div>
</footer>

<script>
  // Set current year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Theme toggle
  const themeToggle = document.getElementById('themeToggle');
  if (localStorage.getItem('sth_theme') === 'light') {
    document.body.classList.add('light');
    themeToggle.innerHTML = '<i class="fa-solid fa-sun"></i>';
  }
  themeToggle.onclick = () => {
    document.body.classList.toggle('light');
    if (document.body.classList.contains('light')) {
      themeToggle.innerHTML = '<i class="fa-solid fa-sun"></i>';
      localStorage.setItem('sth_theme', 'light');
    } else {
      themeToggle.innerHTML = '<i class="fa-solid fa-moon"></i>';
      localStorage.removeItem('sth_theme');
    }
  };

  // Elements
  const mainText = document.getElementById('mainText');
  const previewBox = document.getElementById('previewBox');
  const statusMessage = document.getElementById('statusMessage');
  const copyBtn = document.getElementById('copyBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const textFileInput = document.getElementById('textFileInput');
  const uploadDrop = document.getElementById('uploadDrop');

  const upperBtn = document.getElementById('upperBtn');
  const lowerBtn = document.getElementById('lowerBtn');
  const titleBtn = document.getElementById('titleBtn');
  const sentenceBtn = document.getElementById('sentenceBtn');
  const toggleBtn = document.getElementById('toggleBtn');
  const altBtn = document.getElementById('altBtn');
  const removeSpacesBtn = document.getElementById('removeSpacesBtn');
  const clearBtn = document.getElementById('clearBtn');

  const removeBlankLinesBtn = document.getElementById('removeBlankLinesBtn');
  const sortLinesBtn = document.getElementById('sortLinesBtn');
  const uniqueLinesBtn = document.getElementById('uniqueLinesBtn');

  const statWordsVal = document.getElementById('statWordsVal');
  const statCharsVal = document.getElementById('statCharsVal');
  const statLinesVal = document.getElementById('statLinesVal');
  const statReadVal = document.getElementById('statReadVal');
  const liveStats = document.getElementById('liveStats');

  function showStatus(message, type='info') {
    statusMessage.textContent = message;
    statusMessage.classList.remove('status-success','status-error');
    statusMessage.style.display = 'block';
    if (type === 'success') statusMessage.classList.add('status-success');
    if (type === 'error') statusMessage.classList.add('status-error');
    if (type !== 'info') setTimeout(()=> statusMessage.style.display = 'none', 4000);
  }

  function updatePreviewAndStats() {
    const text = mainText.value;
    previewBox.textContent = text;

    const chars = text.length;
    const words = countWords(text);
    const lines = text.split(/\r\n|\r|\n/).length;
    const readingMinutes = Math.max(1, Math.ceil(words / 200)); // 200 wpm

    statCharsVal.textContent = chars;
    statWordsVal.textContent = words;
    statLinesVal.textContent = lines;
    statReadVal.textContent = readingMinutes + ' min';
    liveStats.textContent = `Words: ${words} • Characters: ${chars} • Lines: ${lines}`;
    document.getElementById('readingTime').textContent = `Estimated read: ${readingMinutes} min`;
  }

  function countWords(str) {
    if (!str) return 0;
    const matches = str.trim().match(/\S+/g);
    return matches ? matches.length : 0;
  }

  function toTitleCase(str) {
    const smallWords = /^(a|an|and|as|at|but|by|for|if|in|nor|of|on|or|per|the|to|vs?|via)$/i;
    return str.toLowerCase().split(/(\s+)/).map((token, idx, arr) => {
      if (/\s+/.test(token)) return token;
      const word = token;
      const isFirst = idx === 0;
      const isLast = idx === arr.length - 1;
      if (isFirst || isLast) return capitalize(word);
      if (smallWords.test(word)) return word.toLowerCase();
      return capitalize(word);
    }).join('');
  }

  function capitalize(word) { return word.charAt(0).toUpperCase() + word.slice(1); }

  function toSentenceCase(text) {
    return text.replace(/([^.!?]*[.!?]*)/g, (match) => {
      if (!match.trim()) return match;
      const trimmed = match.trimStart();
      return match.replace(trimmed, trimmed.charAt(0).toUpperCase() + trimmed.slice(1).toLowerCase());
    });
  }

  function toggleCase(str) {
    return Array.from(str).map(ch => {
      if (ch >= 'a' && ch <= 'z') return ch.toUpperCase();
      if (ch >= 'A' && ch <= 'Z') return ch.toLowerCase();
      return ch;
    }).join('');
  }

  function alternatingCase(str) {
    let i = 0;
    return Array.from(str).map(ch => {
      if (/[a-zA-Z]/.test(ch)) {
        const out = i % 2 === 0 ? ch.toLowerCase() : ch.toUpperCase();
        i++;
        return out;
      }
      return ch;
    }).join('');
  }

  function removeExtraSpaces(str) {
    return str.split(/\r\n|\r|\n/).map(line => line.trim().replace(/\s+/g, ' ')).join('\n');
  }

  mainText.addEventListener('input', updatePreviewAndStats);
  window.addEventListener('load', updatePreviewAndStats);

  upperBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = mainText.value.toUpperCase();
    updatePreviewAndStats();
    showStatus('Converted to UPPERCASE', 'success');
  });

  lowerBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = mainText.value.toLowerCase();
    updatePreviewAndStats();
    showStatus('Converted to lowercase', 'success');
  });

  titleBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = toTitleCase(mainText.value);
    updatePreviewAndStats();
    showStatus('Converted to Title Case', 'success');
  });

  sentenceBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = toSentenceCase(mainText.value);
    updatePreviewAndStats();
    showStatus('Converted to Sentence case', 'success');
  });

  toggleBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = toggleCase(mainText.value);
    updatePreviewAndStats();
    showStatus('Toggled case', 'success');
  });

  altBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = alternatingCase(mainText.value);
    updatePreviewAndStats();
    showStatus('Converted to Alternating case', 'success');
  });

  removeSpacesBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    mainText.value = removeExtraSpaces(mainText.value);
    updatePreviewAndStats();
    showStatus('Extra spaces removed', 'success');
  });

  clearBtn.addEventListener('click', () => {
    mainText.value = '';
    updatePreviewAndStats();
    showStatus('Text cleared', 'success');
  });

  copyBtn.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(mainText.value);
      showStatus('Text copied to clipboard', 'success');
    } catch (err) {
      showStatus('Could not copy (permission denied)', 'error');
    }
  });

  downloadBtn.addEventListener('click', () => {
    const text = mainText.value || '';
    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'text.txt';
    document.body.appendChild(a);
    a.click();
    setTimeout(() => {
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }, 150);
    showStatus('Downloaded text file', 'success');
  });

  textFileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;
    if (!file.type.match('text.*') && !file.name.endsWith('.txt')) {
      showStatus('Please upload a .txt file', 'error');
      return;
    }
    const reader = new FileReader();
    reader.onload = (ev) => {
      mainText.value = ev.target.result;
      updatePreviewAndStats();
      showStatus(`Loaded "${file.name}"`, 'success');
    };
    reader.onerror = () => showStatus('Failed to read file', 'error');
    reader.readAsText(file, 'UTF-8');
  });

  uploadDrop.addEventListener('click', () => textFileInput.click());
  uploadDrop.addEventListener('dragover', (e) => { e.preventDefault(); uploadDrop.classList.add('dragover'); });
  uploadDrop.addEventListener('dragleave', (e) => { e.preventDefault(); uploadDrop.classList.remove('dragover'); });
  uploadDrop.addEventListener('drop', (e) => {
    e.preventDefault();
    uploadDrop.classList.remove('dragover');
    const f = e.dataTransfer.files && e.dataTransfer.files[0];
    if (!f) return;
    if (!f.type.match('text.*') && !f.name.endsWith('.txt')) {
      showStatus('Please drop a .txt file', 'error'); return;
    }
    const r = new FileReader();
    r.onload = (ev) => {
      mainText.value = ev.target.result;
      updatePreviewAndStats();
      showStatus(`Loaded "${f.name}"`, 'success');
    };
    r.onerror = () => showStatus('Failed to read file', 'error');
    r.readAsText(f, 'UTF-8');
  });

  removeBlankLinesBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    const newText = mainText.value.split(/\r\n|\r|\n/).filter(l => l.trim() !== '').join('\n');
    mainText.value = newText;
    updatePreviewAndStats();
    showStatus('Blank lines removed', 'success');
  });

  sortLinesBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    const lines = mainText.value.split(/\r\n|\r|\n/);
    lines.sort((a,b) => a.localeCompare(b));
    mainText.value = lines.join('\n');
    updatePreviewAndStats();
    showStatus('Lines sorted alphabetically', 'success');
  });

  uniqueLinesBtn.addEventListener('click', () => {
    if (!mainText.value) { showStatus('No text available', 'error'); return; }
    const lines = mainText.value.split(/\r\n|\r|\n/);
    const seen = new Set();
    const unique = lines.filter(l => {
      const key = l.trim();
      if (seen.has(key)) return false;
      seen.add(key);
      return true;
    });
    mainText.value = unique.join('\n');
    updatePreviewAndStats();
    showStatus('Duplicate lines removed', 'success');
  });

  document.addEventListener('keydown', (e) => {
    if (e.ctrlKey || e.metaKey) {
      if (e.key.toLowerCase() === 'b') { e.preventDefault(); removeBlankLinesBtn.click(); }
      if (e.key.toLowerCase() === 'u') { e.preventDefault(); upperBtn.click(); }
    }
  });

</script>
</body>
</html>
