<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Image to PDF Converter — Smarttool Hub</title>
  <meta name="description" content="Free online Image to PDF Converter. Upload JPG or PNG images, reorder, preview and download a single PDF instantly. 100% browser-based.">
  <meta name="keywords" content="image to pdf, jpg to pdf, png to pdf, convert images to pdf online, merge images pdf">
  <link rel="icon" href="https://img.icons8.com/fluency/48/toolbox.png"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
  <style>
    body{margin:0;font-family:Inter,Arial;background:#0b1220;color:#eaf2ff;transition:.3s}
    body.light{background:#f6f8fb;color:#0b1220}
    .container{max-width:1000px;margin:auto;padding:20px}
    header,footer{background:#182335;padding:14px 20px;display:flex;justify-content:space-between;align-items:center}
    header a,footer a{color:#22d3ee;text-decoration:none;font-weight:600}
    .uploader{border:2px dashed #2a3b55;padding:40px;text-align:center;border-radius:12px;background:#182335;cursor:pointer;transition:.3s}
    .uploader:hover{border-color:#22d3ee;color:#22d3ee}
    .uploader input{display:none}
    .preview{margin-top:20px;display:flex;flex-wrap:wrap;gap:14px}
    .file-card{background:#182335;padding:8px;border:1px solid #2a3b55;border-radius:10px;position:relative;width:150px;text-align:center}
    .file-card img{max-width:100%;border-radius:6px;height:100px;object-fit:cover}
    .remove-btn{position:absolute;top:6px;right:6px;background:red;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer}
    .actions{margin-top:20px;text-align:center}
    .btn{padding:12px 20px;border-radius:8px;border:none;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,#22d3ee,#60c9ff);color:#00131f}
    .progress{width:100%;background:#2a3b55;border-radius:8px;margin-top:12px;height:10px;overflow:hidden}
    .progress-bar{height:100%;width:0;background:#22d3ee;transition:width .3s}
    .spinner{display:none;margin-top:12px;text-align:center;font-size:1.4rem;color:#22d3ee}
  </style>
</head>
<body>
<header class="container">
  <a href="../../index.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;">
    <img src="https://img.icons8.com/fluency/48/toolbox.png" alt="Smarttool Hub Logo">
    <strong>Smarttool Hub</strong>
  </a>
  <div>
    <a href="../../index.html"><i class="fa-solid fa-house"></i> Home</a>
    <button id="themeToggle" style="margin-left:12px;background:none;border:none;cursor:pointer;color:inherit;font-size:1.2rem"><i class="fa-solid fa-moon"></i></button>
  </div>
</header>

<main class="container">
  <h1>Image to PDF Converter</h1>
  <p>Upload JPG/PNG images, reorder them, preview, and download as a single PDF — free & secure.</p>

  <label class="uploader">
    <i class="fa-solid fa-upload"></i> Click or drag & drop images here
    <input type="file" id="fileInput" accept="image/*" multiple>
  </label>

  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <div id="spinner" class="spinner"><i class="fa-solid fa-spinner fa-spin"></i> Converting...</div>
  <div class="preview" id="preview"></div>

  <div class="actions">
    <button id="downloadPDF" class="btn btn-primary" disabled><i class="fa-solid fa-file-pdf"></i> Convert to PDF</button>
  </div>
</main>

<footer class="container">
  <div>© <span id="year"></span> Smarttool Hub — <a href="../../privacy.html">Privacy</a> | <a href="../../terms.html">Terms</a> | <a href="../../faq.html">FAQ</a></div>
</footer>

<script>
// Dark/light mode
const themeToggle=document.getElementById("themeToggle");
if(localStorage.getItem("sth_theme")==="light"){document.body.classList.add("light");themeToggle.innerHTML='<i class="fa-solid fa-sun"></i>'}
themeToggle.onclick=()=>{document.body.classList.toggle("light");if(document.body.classList.contains("light")){themeToggle.innerHTML='<i class="fa-solid fa-sun"></i>';localStorage.setItem("sth_theme","light")}else{themeToggle.innerHTML='<i class="fa-solid fa-moon"></i>';localStorage.removeItem("sth_theme")}}

// Elements
const input=document.getElementById("fileInput"),
      preview=document.getElementById("preview"),
      progressBar=document.getElementById("progressBar"),
      spinner=document.getElementById("spinner"),
      downloadBtn=document.getElementById("downloadPDF");
let files=[];

// File handling
input.addEventListener("change",e=>{handleFiles(e.target.files)});
document.querySelector(".uploader").addEventListener("drop",e=>{e.preventDefault();handleFiles(e.dataTransfer.files)});
document.querySelector(".uploader").addEventListener("dragover",e=>e.preventDefault());

function handleFiles(fileList){
  files=[...fileList];renderPreview();
  downloadBtn.disabled=files.length===0;progressBar.style.width="0%";
}
function renderPreview(){
  preview.innerHTML="";
  files.forEach((f,idx)=>{
    const reader=new FileReader();
    reader.onload=e=>{
      const div=document.createElement("div");div.className="file-card";div.draggable=true;
      div.innerHTML=`<button class='remove-btn' onclick='removeFile(${idx})'>&times;</button>
                     <img src='${e.target.result}' alt='${f.name}'><div>${f.name}</div>`;
      div.addEventListener("dragstart",ev=>{ev.dataTransfer.setData("idx",idx)});
      div.addEventListener("drop",ev=>{ev.preventDefault();let from=ev.dataTransfer.getData("idx");swapFiles(from,idx)});
      div.addEventListener("dragover",ev=>ev.preventDefault());
      preview.appendChild(div);
    };
    reader.readAsDataURL(f);
  });
}
function removeFile(i){files.splice(i,1);renderPreview();downloadBtn.disabled=files.length===0;input.value=""}
function swapFiles(from,to){const tmp=files[from];files[from]=files[to];renderPreview()}

// PDF generation
downloadBtn.onclick=async()=>{
  if(files.length===0)return;
  spinner.style.display="block";progressBar.style.width="0%";
  const pdfDoc=await PDFLib.PDFDocument.create();
  let done=0;
  for(const f of files){
    const imgBytes=await f.arrayBuffer();
    let img=f.type==="image/png"?await pdfDoc.embedPng(imgBytes):await pdfDoc.embedJpg(imgBytes);
    const page=pdfDoc.addPage([img.width,img.height]);
    page.drawImage(img,{x:0,y:0,width:img.width,height:img.height});
    done++;progressBar.style.width=Math.round((done/files.length)*100)+"%";
  }
  const pdfBytes=await pdfDoc.save();
  triggerDownload(new Blob([pdfBytes],{type:"application/pdf"}),"images.pdf");
  spinner.style.display="none";progressBar.style.width="0%";
}
function triggerDownload(blob,name){
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);a.download=name;
  document.body.appendChild(a);a.click();a.remove();
}
document.getElementById("year").textContent=new Date().getFullYear();
</script>
</body>
</html>
