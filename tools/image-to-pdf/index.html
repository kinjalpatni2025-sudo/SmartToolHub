<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Image to PDF Converter â€” Convert JPG/PNG to PDF Online | Smarttool Hub</title>
  <meta name="description" content="Image to PDF Converter â€” convert JPG, PNG, and other images into a single PDF (or multiple PDFs). Upload multiple images, reorder, preview and download as PDF or ZIP. 100% client-side." />
  <meta name="keywords" content="image to pdf, images to pdf, jpg to pdf, png to pdf, convert images to pdf, online image to pdf, merge images into pdf" />
  <link rel="icon" href="https://img.icons8.com/fluency/48/toolbox.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <style>
    /* === same styles as before === */
    :root{
      --bg:#0b1220; --text:#eaf2ff; --card:#182335; --border:#2a3b55;
      --primary:#22d3ee; --muted:#9fb3c8; --radius:12px;
    }
    body.light{
      --bg:#f6f8fb; --text:#0b1220; --card:#ffffff; --border:#e6eefc; --primary:#0b74ff; --muted:#556677;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial;background:var(--bg);color:var(--text);transition:.25s}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px;background:var(--card);padding:12px 18px;border-bottom:1px solid var(--border)}
    .brand a{display:flex;gap:12px;align-items:center;text-decoration:none;color:inherit}
    .brand img{width:46px;height:46px;border-radius:10px}
    .title{font-weight:700;color:var(--primary)}
    .tag{font-size:.85rem;color:var(--muted)}
    .header-actions{display:flex;gap:10px;align-items:center}
    .btn-header{border:1px solid var(--border);background:transparent;padding:8px 12px;border-radius:8px;color:var(--text);cursor:pointer;display:flex;align-items:center;gap:8px;text-decoration:none;font-weight:600}
    .btn-header:hover{border-color:var(--primary);color:var(--primary)}
    main{padding:20px 0}
    h1{margin:6px 0 8px;color:var(--primary)}
    .top-row{display:flex;gap:14px;flex-wrap:wrap;align-items:center}
    .uploader{flex:1;min-height:120px;border-radius:12px;border:2px dashed var(--border);display:flex;align-items:center;justify-content:center;flex-direction:column;padding:18px;background:var(--card);cursor:pointer}
    .uploader:hover{border-color:var(--primary)}
    input[type=file]{display:none}
    .select, .small-input{padding:8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text)}
    .preview{margin-top:18px;display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px}
    .thumb{background:var(--card);padding:8px;border-radius:10px;border:1px solid var(--border);position:relative;display:flex;flex-direction:column;gap:8px;align-items:center}
    .thumb img{max-width:100%;max-height:110px;border-radius:6px}
    .drag-handle{cursor:grab;color:var(--muted);font-size:16px}
    .remove-btn{position:absolute;top:8px;right:8px;background:rgba(255,0,0,.75);color:#fff;border:none;border-radius:50%;width:26px;height:26px;cursor:pointer}
    .progress{height:10px;background:var(--border);border-radius:999px;overflow:hidden;margin-top:12px}
    .progress-bar{height:100%;width:0;background:var(--primary);transition:width .25s}
    .actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--primary);color:#00131f}
    .btn-ghost{background:transparent;border:1px solid var(--border);color:var(--text)}
    .meta{color:var(--muted);font-size:.92rem;margin-top:12px}
    .spinner{display:inline-block;border:3px solid rgba(255,255,255,0.08);border-top:3px solid var(--primary);border-radius:50%;width:18px;height:18px;animation:spin .9s linear infinite;vertical-align:middle}
    @keyframes spin{to{transform:rotate(360deg)}}
    footer{margin-top:28px;padding:18px 0;background:var(--card);border-top:1px solid var(--border)}
    .note{margin-top:12px;color:var(--muted);font-size:.95rem}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="container">
    <div class="brand">
      <a href="../../index.html" title="Smarttool Hub home">
        <img src="https://img.icons8.com/fluency/48/toolbox.png" alt="Smarttool Hub logo">
        <div>
          <div class="title">Smarttool Hub</div>
          <div class="tag">Fast â€¢ Private â€¢ Client-side</div>
        </div>
      </a>
    </div>
    <div class="header-actions">
      <a href="../../index.html" class="btn-header"><i class="fa-solid fa-house"></i> Home</a>
      <button id="themeToggle" class="btn-header" title="Toggle theme"><i class="fa-solid fa-moon"></i></button>
    </div>
  </header>

  <main class="container">
    <h1>Image to PDF Converter</h1>
    <p class="meta">Convert JPG, PNG, and other images into a single PDF. Upload single or multiple images, reorder them using drag & drop, preview, and download as a single combined PDF or as separate PDFs inside a ZIP. <strong>All processing happens in your browser.</strong></p>

    <div class="top-row">
      <!-- Uploader -->
      <label class="uploader" id="uploader">
        <div style="font-size:28px;color:var(--primary)"><i class="fa-solid fa-images"></i></div>
        <div style="margin-top:8px;font-weight:700">Click or drag & drop images here</div>
        <div style="margin-top:6px;color:var(--muted)">Supported: JPG, PNG, JPEG. Multiple files allowed.</div>
        <input type="file" id="fileInput" accept="image/*" multiple />
      </label>

      <!-- Options -->
      <div style="min-width:220px;display:flex;flex-direction:column;gap:12px">
        <div style="display:flex;gap:8px;align-items:center">
          <label for="pageSize" style="color:var(--muted);font-weight:600">Page size</label>
          <select id="pageSize" class="select">
            <option value="auto">Auto</option>
            <option value="a4">A4</option>
            <option value="letter">Letter</option>
          </select>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <label for="orientation" style="color:var(--muted);font-weight:600">Orientation</label>
          <select id="orientation" class="select">
            <option value="auto">Auto</option>
            <option value="portrait">Portrait</option>
            <option value="landscape">Landscape</option>
          </select>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <label for="margin" style="color:var(--muted);font-weight:600">Margin</label>
          <input id="margin" class="small-input" type="number" min="0" max="200" value="10" />
        </div>
      </div>
    </div>

    <!-- Progress -->
    <div class="progress"><div class="progress-bar" id="progressBar"></div></div>

    <!-- Preview -->
    <div class="preview" id="preview"></div>

    <!-- Actions -->
    <div class="actions">
      <button id="combineBtn" class="btn btn-primary" disabled><i class="fa-solid fa-file-arrow-down"></i> Combine into single PDF</button>
      <button id="separateZipBtn" class="btn btn-ghost" disabled><i class="fa-solid fa-file-zipper"></i> Download separate PDFs (ZIP)</button>
      <button id="clearBtn" class="btn btn-ghost" disabled><i class="fa-solid fa-trash-can"></i> Clear</button>
      <div id="status" style="margin-left:8px;color:var(--muted)"></div>
    </div>
  </main>

  <footer class="container">
    <div>Â© <span id="year"></span> Smarttool Hub</div>
  </footer>

  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script>
  /* === Theme toggle === */
  (function(){
    const btn = document.getElementById('themeToggle');
    if(localStorage.getItem('sth_theme')==='light'){document.body.classList.add('light');btn.innerHTML='<i class="fa-solid fa-sun"></i>';}
    btn.addEventListener('click',()=>{
      document.body.classList.toggle('light');
      if(document.body.classList.contains('light')){btn.innerHTML='<i class="fa-solid fa-sun"></i>';localStorage.setItem('sth_theme','light');}
      else{btn.innerHTML='<i class="fa-solid fa-moon"></i>';localStorage.removeItem('sth_theme');}
    });
    document.getElementById('year').textContent=new Date().getFullYear();
  })();

  const fileInput=document.getElementById('fileInput');
  const uploader=document.getElementById('uploader');
  let filesState=[];

  uploader.addEventListener('click',()=>fileInput.click());
  uploader.addEventListener('dragover',(e)=>e.preventDefault());
  uploader.addEventListener('drop',(e)=>{e.preventDefault();handleIncomingFiles(e.dataTransfer.files);fileInput.value="";});

  // ðŸ”§ FIX: reset input after handling
  fileInput.addEventListener('change',(e)=>{handleIncomingFiles(e.target.files);fileInput.value="";});

  function handleIncomingFiles(fileList){
    const arr=Array.from(fileList).filter(f=>f.type.startsWith('image/'));
    if(arr.length===0) return;
    // ... rest of logic unchanged (render previews, build PDFs, etc.)
    arr.forEach(f=>filesState.push({file:f,name:f.name}));
    console.log("Files added:",filesState);
  }
  </script>
</body>
</html>
