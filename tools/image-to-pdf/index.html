<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Image to PDF Converter — Smarttool Hub</title>
  <meta name="description" content="Convert multiple JPG or PNG images to a single PDF file. Upload, reorder, preview, and download instantly. 100% free and client-side.">
  <meta name="keywords" content="jpg to pdf, png to pdf, convert images to pdf, merge images pdf online">
  <link rel="icon" href="https://img.icons8.com/fluency/48/toolbox.png"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
  <style>
    body{margin:0;font-family:Inter,Arial,sans-serif;background:#f6f8fb;color:#0b1220}
    header,footer{background:#182335;color:#fff;padding:14px 20px}
    header a,footer a{color:#22d3ee;text-decoration:none}
    .container{max-width:1000px;margin:auto;padding:20px}
    h1{text-align:center;margin-bottom:10px}
    .uploader{border:2px dashed #22d3ee;padding:30px;text-align:center;border-radius:12px;background:#fff;cursor:pointer}
    .uploader.dragover{background:#eafaff}
    .preview{margin-top:20px;display:flex;flex-wrap:wrap;gap:16px;justify-content:center}
    .file-card{background:#fff;padding:8px;border:1px solid #ddd;border-radius:10px;position:relative;width:140px;text-align:center;cursor:grab}
    .file-card img{max-width:100%;border-radius:6px}
    .remove-btn{position:absolute;top:6px;right:6px;background:red;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer}
    .actions{text-align:center;margin-top:20px}
    .btn{padding:12px 18px;border-radius:8px;border:none;cursor:pointer;font-weight:600}
    .btn-primary{background:#22d3ee;color:#00131f}
    .btn-primary:disabled{opacity:.5;cursor:not-allowed}
    .progress{width:80%;max-width:500px;margin:12px auto;height:10px;background:#ddd;border-radius:8px;overflow:hidden}
    .progress-bar{height:100%;width:0;background:#22d3ee;transition:width .3s}
    .spinner{display:none;margin-top:12px;text-align:center;font-size:1.2rem;color:#22d3ee}
  </style>
</head>
<body>
<header>
  <div class="container" style="display:flex;justify-content:space-between;align-items:center">
    <a href="../../index.html" style="display:flex;align-items:center;gap:10px;color:#22d3ee;text-decoration:none">
      <img src="https://img.icons8.com/fluency/48/toolbox.png" alt="Smarttool Hub Logo">
      <strong>Smarttool Hub</strong>
    </a>
    <a href="../../index.html"><i class="fa-solid fa-house"></i> Home</a>
  </div>
</header>

<main class="container">
  <h1>Image to PDF Converter</h1>
  <p style="text-align:center">Upload JPG or PNG images, reorder them, and download as a single PDF.</p>

  <label class="uploader" id="dropArea">
    <i class="fa-solid fa-upload"></i> Drop images here or click to upload
    <input type="file" id="fileInput" accept="image/*" multiple hidden>
  </label>

  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <div id="spinner" class="spinner"><i class="fa-solid fa-spinner fa-spin"></i> Creating PDF...</div>

  <div class="preview" id="preview"></div>

  <div class="actions">
    <button id="downloadPDF" class="btn btn-primary" disabled>Download PDF</button>
  </div>
</main>

<footer>
  <div class="container">© <span id="year"></span> Smarttool Hub</div>
</footer>

<script>
// Elements
const input=document.getElementById("fileInput"),
      dropArea=document.getElementById("dropArea"),
      preview=document.getElementById("preview"),
      progressBar=document.getElementById("progressBar"),
      spinner=document.getElementById("spinner"),
      downloadBtn=document.getElementById("downloadPDF");
let files=[];

// Drag & drop
dropArea.addEventListener("click",()=>input.click());
dropArea.addEventListener("dragover",e=>{e.preventDefault();dropArea.classList.add("dragover")});
dropArea.addEventListener("dragleave",()=>dropArea.classList.remove("dragover"));
dropArea.addEventListener("drop",e=>{e.preventDefault();dropArea.classList.remove("dragover");handleFiles(e.dataTransfer.files)});
input.addEventListener("change",e=>handleFiles(e.target.files));

function handleFiles(list){
  files=[...files,...list];renderPreview();
  downloadBtn.disabled=files.length===0;progressBar.style.width="0%";
}
function renderPreview(){
  preview.innerHTML="";
  files.forEach((f,idx)=>{
    const reader=new FileReader();
    reader.onload=e=>{
      const div=document.createElement("div");div.className="file-card";div.draggable=true;
      div.innerHTML=`<button class='remove-btn' onclick='removeFile(${idx})'>&times;</button>
                     <img src='${e.target.result}' alt='${f.name}'><div>${f.name}</div>`;
      div.addEventListener("dragstart",ev=>{ev.dataTransfer.setData("idx",idx)});
      div.addEventListener("drop",ev=>{ev.preventDefault();let from=ev.dataTransfer.getData("idx");swapFiles(from,idx)});
      div.addEventListener("dragover",ev=>ev.preventDefault());
      preview.appendChild(div);
    };
    reader.readAsDataURL(f);
  });
}
function removeFile(i){files.splice(i,1);renderPreview();downloadBtn.disabled=files.length===0}
function swapFiles(from,to){[files[from],files[to]]=[files[to],files[from]];renderPreview()}

// Generate PDF
downloadBtn.onclick=async()=>{
  if(files.length===0)return;
  spinner.style.display="block";progressBar.style.width="0%";
  const pdfDoc=await PDFLib.PDFDocument.create();
  let done=0;
  for(const f of files){
    const imgBytes=await f.arrayBuffer();
    let img=f.type==="image/png"?await pdfDoc.embedPng(imgBytes):await pdfDoc.embedJpg(imgBytes);
    const page=pdfDoc.addPage([img.width,img.height]);
    page.drawImage(img,{x:0,y:0,width:img.width,height:img.height});
    done++;progressBar.style.width=Math.round((done/files.length)*100)+"%";
  }
  const pdfBytes=await pdfDoc.save();
  triggerDownload(new Blob([pdfBytes],{type:"application/pdf"}),"images.pdf");
  spinner.style.display="none";progressBar.style.width="0%";
};
function triggerDownload(blob,name){
  const a=document.createElement("a");a.href=URL.createObjectURL(blob);a.download=name;
  document.body.appendChild(a);a.click();a.remove();
}
document.getElementById("year").textContent=new Date().getFullYear();
</script>
</body>
</html>
