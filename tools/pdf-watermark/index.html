<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>PDF Watermark Tool - Smarttool Hub</title>
  <link rel="icon" href="https://img.icons8.com/fluency/48/toolbox.png"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <style>
    /* keep your same styles */
    .preview-watermark img{
      max-width:150px;
      opacity:inherit;
    }
  </style>
</head>
<body>
<header class="container">
  <!-- unchanged header -->
</header>

<main class="container">
  <div class="tool-content">
    <h1 class="tool-title">PDF Watermark Tool</h1>
    <p class="tool-description">Add watermark text or logo to your PDF files. Your files are processed entirely in your browserâ€”no server uploads.</p>

    <!-- upload area same as before -->

    <div class="watermark-options">
      <div class="option-column">
        <div class="option-group">
          <label for="watermarkType">Watermark Type</label>
          <select id="watermarkType">
            <option value="text">Text Watermark</option>
            <option value="image">Image Watermark</option>
          </select>
        </div>
        <div class="option-group" id="textOptions">
          <label for="watermarkText">Watermark Text</label>
          <textarea id="watermarkText">Confidential</textarea>
        </div>
        <div class="option-group" id="imageOptions" style="display:none;">
          <label for="watermarkImage">Upload Watermark Image</label>
          <input type="file" id="watermarkImage" accept="image/*">
        </div>
      </div>
      <div class="option-column">
        <div class="option-group">
          <label for="watermarkSize">Text Size</label>
          <select id="watermarkSize">
            <option value="small">Small</option>
            <option value="medium" selected>Medium</option>
            <option value="large">Large</option>
            <option value="xlarge">Extra Large</option>
          </select>
        </div>
        <div class="option-group">
          <label for="watermarkOpacity">Opacity</label>
          <input type="range" id="watermarkOpacity" min="10" max="100" value="50">
          <div style="display:flex;justify-content:space-between;font-size:0.8rem;">
            <span>Transparent</span>
            <span id="opacityValue">50%</span>
            <span>Opaque</span>
          </div>
        </div>
        <div class="option-group">
          <label for="watermarkPosition">Position</label>
          <select id="watermarkPosition">
            <option value="center">Center</option>
            <option value="top-left">Top Left</option>
            <option value="top-right">Top Right</option>
            <option value="bottom-left">Bottom Left</option>
            <option value="bottom-right">Bottom Right</option>
          </select>
        </div>
      </div>
    </div>

    <div class="preview-area">
      <div class="preview-watermark" id="watermarkPreview" style="font-size:24px; color:#ccc; opacity:0.5;">
        Confidential
      </div>
    </div>

    <!-- action buttons same -->
  </div>
</main>

<!-- footer same -->

<script>
  const watermarkType=document.getElementById("watermarkType");
  const textOptions=document.getElementById("textOptions");
  const imageOptions=document.getElementById("imageOptions");
  const watermarkText=document.getElementById("watermarkText");
  const watermarkImage=document.getElementById("watermarkImage");
  const watermarkPreview=document.getElementById("watermarkPreview");
  const watermarkOpacity=document.getElementById("watermarkOpacity");
  const opacityValue=document.getElementById("opacityValue");
  const watermarkSize=document.getElementById("watermarkSize");

  let uploadedImage=null;

  watermarkType.addEventListener("change",()=>{
    if(watermarkType.value==="text"){
      textOptions.style.display="block";
      imageOptions.style.display="none";
      watermarkPreview.innerHTML=watermarkText.value;
    }else{
      textOptions.style.display="none";
      imageOptions.style.display="block";
      watermarkPreview.innerHTML= uploadedImage ? `<img src="${uploadedImage}">` : "No image uploaded";
    }
  });

  watermarkText.addEventListener("input",()=>{ if(watermarkType.value==="text") watermarkPreview.textContent=watermarkText.value; });

  watermarkImage.addEventListener("change",e=>{
    const file=e.target.files[0];
    if(file){
      const reader=new FileReader();
      reader.onload=function(ev){
        uploadedImage=ev.target.result;
        watermarkPreview.innerHTML=`<img src="${uploadedImage}">`;
      }
      reader.readAsDataURL(file);
    }
  });

  watermarkOpacity.addEventListener("input",()=>{
    watermarkPreview.style.opacity=watermarkOpacity.value/100;
    opacityValue.textContent=watermarkOpacity.value+"%";
  });

  watermarkSize.addEventListener("change",()=>{
    let size;
    switch(watermarkSize.value){
      case "small":size="18px";break;
      case "medium":size="24px";break;
      case "large":size="36px";break;
      case "xlarge":size="48px";break;
    }
    if(watermarkType.value==="text"){ watermarkPreview.style.fontSize=size; }
  });
</script>
</body>
</html>
